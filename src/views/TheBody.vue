<script setup>
import { ref } from 'vue';
import { RouterLink } from 'vue-router';

const fonts = ref([
{
      label: "Bold (serif)",
      slug: "bold",
      previewFont: "times",
      actions: [
        {
          action: "normalize",
          type: "NFD",
        },
        {
          action: "shift_code_point",
          range: [65, 90],
          add: 119743,
        },
        {
          action: "shift_code_point",
          range: [97, 122],
          add: 119737,
        },
        {
          action: "shift_code_point",
          range: [48, 57],
          add: 120734,
        },
      ],
      textStyle: {
        path: "bold-italic",
      },
    },
    {
      label: "Italic (serif)",
      slug: "italic",
      previewFont: "times",
      actions: [
        {
          action: "normalize",
          type: "NFD",
        },
        {
          action: "map_code_point",
          map: {
            104: [8462],
          },
        },
        {
          action: "shift_code_point",
          range: [65, 90],
          add: 119795,
        },
        {
          action: "shift_code_point",
          range: [97, 122],
          add: 119789,
        },
      ],
      textStyle: {
        path: "bold-italic",
      },
    },
    {
      label: "Bold / italic (serif)",
      slug: "bold-italic",
      previewFont: "times",
      actions: [
        {
          action: "normalize",
          type: "NFD",
        },
        {
          action: "shift_code_point",
          range: [65, 90],
          add: 119847,
        },
        {
          action: "shift_code_point",
          range: [97, 122],
          add: 119841,
        },
      ],
      textStyle: {
        path: "bold-italic",
      },
    },
    {
      label: "Bold (sans)",
      slug: "bold-sans",
      previewFont: "times",
      actions: [
        {
          action: "normalize",
          type: "NFD",
        },
        {
          action: "shift_code_point",
          range: [65, 90],
          add: 120211,
        },
        {
          action: "shift_code_point",
          range: [97, 122],
          add: 120205,
        },
        {
          action: "shift_code_point",
          range: [48, 57],
          add: 120764,
        },
      ],
      textStyle: {
        path: "bold-italic",
      },
    },
    {
      label: "Italic (sans)",
      slug: "italic-sans",
      previewFont: "times",
      actions: [
        {
          action: "normalize",
          type: "NFD",
        },
        {
          action: "shift_code_point",
          range: [65, 90],
          add: 120263,
        },
        {
          action: "shift_code_point",
          range: [97, 122],
          add: 120257,
        },
      ],
      textStyle: {
        path: "bold-italic",
      },
    },
    {
      label: "Bold / italic (sans)",
      slug: "bold-italic-sans",
      previewFont: "times",
      actions: [
        {
          action: "normalize",
          type: "NFD",
        },
        {
          action: "shift_code_point",
          range: [65, 90],
          add: 120315,
        },
        {
          action: "shift_code_point",
          range: [97, 122],
          add: 120309,
        },
      ],
      textStyle: {
        path: "bold-italic",
      },
    },
    {
      label: "Alternating Bold",
      slug: "alternating-bold",
      previewFont: "times",
      actions: [
        {
          actions: [
            [
              {
                action: "normalize",
                type: "NFD",
              },
              {
                action: "shift_code_point",
                range: [65, 90],
                add: 119743,
              },
              {
                action: "shift_code_point",
                range: [97, 122],
                add: 119737,
              },
              {
                action: "shift_code_point",
                range: [48, 57],
                add: 120734,
              },
            ],
            [],
          ],
          action: "cycle",
        },
      ],
      textStyle: {
        path: "bold-italic",
      },
    },
    {
      label: "Alternating Italic",
      slug: "alternating-italic",
      previewFont: "times",
      actions: [
        {
          actions: [
            [
              {
                action: "normalize",
                type: "NFD",
              },
              {
                action: "map_code_point",
                map: {
                  104: [8462],
                },
              },
              {
                action: "shift_code_point",
                range: [65, 90],
                add: 119795,
              },
              {
                action: "shift_code_point",
                range: [97, 122],
                add: 119789,
              },
            ],
            [],
          ],
          action: "cycle",
        },
      ],
      textStyle: {
        path: "bold-italic",
      },
    },
    {
      label: "Bold w/ Alternating Italic",
      slug: "bold-alternating-italic",
      previewFont: "times",
      actions: [
        {
          actions: [
            [
              {
                action: "normalize",
                type: "NFD",
              },
              {
                action: "shift_code_point",
                range: [65, 90],
                add: 119847,
              },
              {
                action: "shift_code_point",
                range: [97, 122],
                add: 119841,
              },
            ],
            [
              {
                action: "normalize",
                type: "NFD",
              },
              {
                action: "shift_code_point",
                range: [65, 90],
                add: 120315,
              },
              {
                action: "shift_code_point",
                range: [97, 122],
                add: 120309,
              },
            ],
          ],
          action: "cycle",
        },
      ],
      textStyle: {
        path: "bold-italic",
      },
    },
    {
      label: "Italic Switch Serifs",
      slug: "italic-switch-serifs",
      previewFont: "times",
      actions: [
        {
          actions: [
            [
              {
                action: "normalize",
                type: "NFD",
              },
              {
                action: "map_code_point",
                map: {
                  104: [8462],
                },
              },
              {
                action: "shift_code_point",
                range: [65, 90],
                add: 119795,
              },
              {
                action: "shift_code_point",
                range: [97, 122],
                add: 119789,
              },
            ],
            [
              {
                action: "normalize",
                type: "NFD",
              },
              {
                action: "shift_code_point",
                range: [65, 90],
                add: 120263,
              },
              {
                action: "shift_code_point",
                range: [97, 122],
                add: 120257,
              },
            ],
          ],
          action: "cycle",
        },
      ],
      textStyle: {
        path: "bold-italic",
      },
    }
]);

const updateText = (event) => {
  const text = event.target.value;
  fonts.value.forEach((font) => {
    font.transformedText = applyFontTransformations(text, font.actions);
  });
};

const applyFontTransformations = (text, actions) => {
  let transformedText = text;
  actions.forEach((action) => {
    if (action.action === "normalize" && action.type === "NFD") {
      transformedText = transformedText.normalize("NFD");
    }
    if (action.action === "shift_code_point") {
      transformedText = transformedText
        .split('')
        .map((char) => {
          const codePoint = char.codePointAt(0);
          if (codePoint >= action.range[0] && codePoint <= action.range[1]) {
            return String.fromCodePoint(codePoint + action.add);
          }
          return char;
        })
        .join('');
    }
  });
  return transformedText;
};

const copyToClipboard = (text) => {
  navigator.clipboard.writeText(text).then(() => {
    alert('ÄÃ£ sao chÃ©p!');
  }).catch(err => {
    console.error('Error copying text: ', err);
  });
};

</script>

<template>
  <div class="container p-3">
    <div class="row">
      <div class="col-md-1"></div>
      <div class="col-md-10">
        <input
          type="text"
          placeholder="Soáº¡n tháº£o hoáº·c sao chÃ©p, dÃ¡n vÄƒn báº£n á»Ÿ Ä‘Ã¢y."
          class="form-control p-2"
          @keyup="updateText"
        />
      </div>
      <div class="col-md-1"></div>
    </div>
    <div class="row">
      <div class="col-md-1"></div>
      <div class="col-md-10">
        <div class="row mt-3">
          <div class="col-md-6 mb-3" v-for="font in fonts" :key="font.slug">
            <div class="card">
              <div class="card-header text-center">
                <RouterLink :to="{ name: 'detail', params: { fname: font.slug } }" style="color: unset; text-decoration: none">
                  {{ font.label }}
                </RouterLink>
              </div>
              <div class="card-body">
                <p class="card-text">
                  {{ font.transformedText || "ÄğšÌ‚ğ² ğ¥ğšÌ€ ğ¤ğ¢ğÌ‚Ì‰ğ® ğ¯ğšÌ†ğ§ ğ›ğšÌ‰ğ§ ğ¦ğšÌ‚Ìƒğ® ğœğ¡ğ¨ ğ¥ğ¨ğšÌ£ğ¢ ğ©ğ¡ğ¨Ì‚ğ§ğ  ğœğ¡ğ®Ì›Ìƒ ğ§ğšÌ€ğ²" }}
                </p>
                <div class="row">
                  <div class="col-md-12 text-center">
                    <button class="btn btn-outline-secondary" @click="copyToClipboard(font.transformedText)">Sao chÃ©p</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-1"></div>
    </div>
    <div class="row mt-5">
      <div class="col-md-1"></div>
      <div class="col-md-10 content-wel">
        <div class="mb-3">
          <h2>CÃ¡ch táº¡o VÄƒn báº£n Äáº¹p máº¯t</h2>
          <p>
            Báº¡n cÃ³ thá»ƒ táº¡o vÄƒn báº£n Ä‘áº¹p máº¯t vá»›i CÃ´ng cá»¥ Chuyá»ƒn Ä‘á»•i PhÃ´ng chá»¯ Trá»±c tuyáº¿n. Báº¡n chá»‰ cáº§n viáº¿t vÄƒn báº£n mÃ¬nh muá»‘n lÃ m Ä‘áº¹p vÃ o há»™p phÃ­a trÃªn. Báº¡n cÃ³ thá»ƒ dÃ¹ng báº¥t ká»³ kÃ½ tá»± nÃ o mÃ¬nh muá»‘n lÃºc soáº¡n tháº£o vÄƒn báº£n. Cuá»‘i cÃ¹ng thÃ¬, báº¡n cÃ³ thá»ƒ nháº¥p vÃ o biá»ƒu tÆ°á»£ng sao chÃ©p káº¿ cÃ¡c kiá»ƒu phÃ´ng chá»¯ Ä‘á»ƒ sao chÃ©p kiá»ƒu phÃ´ng chá»¯ mÃ  mÃ¬nh muá»‘n.
          </p>
        </div>

        <div class="mb-3">
          <h2>CÃ´ng cá»¥ Thay Ä‘á»•i PhÃ´ng chá»¯ Trá»±c tuyáº¿n lÃ  gÃ¬?</h2>
          <p>
            CÃ´ng cá»¥ Thay Ä‘á»•i PhÃ´ng chá»¯ Trá»±c tuyáº¿n lÃ  má»™t cÃ´ng cá»¥ trá»±c tuyáº¿n cho phÃ©p báº¡n viáº¿t cÃ¡c vÄƒn báº£n sÃ nh Ä‘iá»‡u trÃªn Instagram, Twitter, WhatsApp, Facebook, Discord, and Skype. NgoÃ i cÃ¡c diá»…n Ä‘Ã n nÃ y, báº¡n cÅ©ng cÃ³ thá»ƒ dÃ¹ng cÃ´ng cá»¥ nÃ y Ä‘á»ƒ táº¡o má»™t biá»‡t danh sÃ nh Ä‘iá»‡u. Báº¡n cÃ³ thá»ƒ lÃ m biá»‡t danh cá»§a mÃ¬nh thÃº vá»‹ hÆ¡n trÃªn cÃ¡c game cháº³ng háº¡n nhÆ° PUBG, CS: GO vÃ  táº¡o ra cÃ¡c biá»‡t danh Ä‘áº¹p máº¯t cá»§a 2024 vá»›i cÃ¡c kiá»ƒu phÃ´ng chá»¯ khÃ¡c nhau.
          </p>
        </div>

        <div class="mb-3">
          <h2>CÃ´ng cá»¥ Thay Ä‘á»•i PhÃ´ng chá»¯ hoáº¡t Ä‘á»™ng nhÆ° tháº¿ nÃ o?</h2>
          <p>
            DÃ¹ sá»‘ kÃ½ tá»± trÃªn bÃ n phÃ­m cá»§a báº¡n lÃ  cÃ³ háº¡n, cÃ¡c mÃ¡y tÃ­nh vÃ  Ä‘iá»‡n thoáº¡i láº¡i cÃ³ thá»ƒ nháº­n diá»‡n Ä‘Æ°á»£c hÃ ng chá»¥c ngÃ n kÃ½ tá»±. CÃ¡c mÃ¡y tÃ­nh chá»‰ há»— trá»£ 128 kÃ½ tá»± (ASCII) trong quÃ¡ khá»© bÃ¢y giá» cÃ³ thá»ƒ há»— trá»£ vÃ  nháº­n diá»‡n nhiá»u kÃ½ tá»± nhá» vÃ o Unicode. HÆ¡n ná»¯a, hÃ ng nÄƒm tiÃªu chuáº©n Unicode Ä‘á»u má»Ÿ rá»™ng vá»›i nhiá»u kÃ½ tá»±, biá»ƒu tÆ°á»£ng, vÃ  emoji hÆ¡n, vÃ  nhiá»u kÃ½ tá»± má»›i, tá»« lÃ¡ cá» cá»§a cÃ¡c nÆ°á»›c Ä‘áº¿n cÃ¡c biá»ƒu tÆ°á»£ng khÃ¡c nhau, Ä‘Ã£ cÃ³ thá»ƒ Ä‘Æ°á»£c hiá»ƒu bá»Ÿi táº¥t cáº£ cÃ¡c mÃ¡y tÃ­nh.
          </p>
          <p>
            CÃ´ng cá»¥ Táº¡o PhÃ´ng chá»¯ cho phÃ©p báº¡n viáº¿t vÄƒn báº£n Ä‘áº¹p máº¯t cÃ³ thá»ƒ dÃ¹ng Ä‘Æ°á»£c trÃªn cÃ¡c diá»…n Ä‘Ã n nhÆ° WhatsApp, Instagram, vÃ  nhiá»u game trá»±c tuyáº¿n báº±ng cÃ¡ch dÃ¹ng cÃ¡c biá»ƒu tÆ°á»£ng khÃ´ng cÃ³ trÃªn bÃ n phÃ­m. LÃºc lÃ m Ä‘iá»u nÃ y, nÃ³ sáº½ thay Ä‘á»•i tá»«ng chá»¯ cÃ¡i báº¡n nháº­p vÃ o báº±ng cÃ¡c biá»ƒu tÆ°á»£ng vÄƒn báº£n.
          </p>
        </div>
      </div>
      <div class="col-md-1"></div>
    </div>
  </div>
</template>

<style scoped>
.content-wel h2 {
  margin-top: 1rem;
  font-size: 1.5rem;
}

.content-wel p {
  font-size: 1rem;
  line-height: 1.5;
}

.card-header {
  font-size: 1.25rem;
}

.btn {
  margin-top: 0.5rem;
}
</style>
